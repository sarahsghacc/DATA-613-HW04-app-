---
title: 'DATA 613: Homework 1'
author: "Maulie Clermont"
date: "2025-07-06"
output: html_document
---

```{bash}
cd ~/Users/sarahclermont/Library/Mobile Documents/com~apple~CloudDocs/SUMMER 2025 MS STATISTICS BIOSTATISTICS/DATA 613 DATA SCIENCE

## Step 1 (Clone the HW Repository)
git clone https://github.com/semiyarih/semiyarih-ds_summer25
cd semiyarih-ds_summer25
ls

## Step 2 (Rename the file)
mv hw01_sarahsghacc.Rmd hw01_sarahsghacc.qmd

## Step 3
git add hw01_sarahsghacc.qmd
git commit -m "Answer question 1.1"

git add -u
git commit -m "Remove old hw01.qmd after renaming"

git remote set-url origin https://github.com/sarahsghacc/semiyarih-ds_summer25.git

git push origin main

```

Problem 2: Is there a relationship between the age of a plane and its delays?
ANSWER: Yes, there appears to be a weak relationship between the age of a plane and its departure delays, but it is not strong or clearly linear.
```{r}
library(tidyverse)
library(nycflights13)

# Step 1
flights_with_age <- flights |>
  left_join( planes |>
      rename(manufacture_year = year), 
    by = "tailnum"
  ) |>
  mutate(
    flight_year = year(time_hour),
    plane_age = flight_year - manufacture_year
  ) |>
  filter(!is.na(plane_age), !is.na(dep_delay))


# Step 2: Explore relationship between age and departure delay
ggplot(flights_with_age, aes(x = plane_age, y = dep_delay)) +
  geom_point() +
  geom_smooth() +
  labs(
    title = "Relationship Between Plane Age and Departure Delay",
    x = "Age of Plane (years)",
    y = "Departure Delay (minutes)"
  )

```

Problem 3: Find the 10 days of the year that have the highest median departure delay, then select all flights from those 10 days.
ANSWER: The 10 days with the highest median departure delays included March 8, July 1, and December 17, with medians ranging from 12.5 to 58 minutes. These days likely experienced unusual weather or operational issues. All flights from those days were selected for further analysis.

```{r}
# Create a single date column and group by it
daily_delay <- flights |>
  mutate(date = make_date(year, month, day)) |>
  group_by(date) |>
  summarise(median_dep_delay = median(dep_delay, na.rm = TRUE)) |>
  arrange(desc(median_dep_delay))

# Top 10
top10_days <- daily_delay %>%
  slice_max(order_by = median_dep_delay, n = 10)

top10_days

#Filter
flights_top10 <- flights |>
  mutate(date = make_date(year, month, day)) |>
  filter(date %in% top10_days$date)


```

